Abreviaturas: 
	-> SGBD : Sistema de Gestión de Bases de Datos
	-> MSSQL : Microsoft SQL Server
		Es un -> RDBMS: Sistema de Gestión de Bases de Datos Relacional
	-> SSMS: SQL Server Management Studio (herramienta gráfica que se usa para interactuar con MSSQL).
	-> DBMS: Database Management System

Primero es necesario instalar el motor de bases de datos MSSQL, después se instala SSMS y Azure Data Studio para realizar todas las manipulaciones necesarias.
(Azure Data Studio es para Mac o Linux, ya que estos SO no cuentan con SSMS)

/////////////////// Creacion de base de datos ///////////////////

Al iniciar SSMS, te pedirá que te autentiques para poder acceder. Puedes usar los tipos de autenticación que seleccionaste cuando instalaste SQL Server (el más común y fácil es por medio de Autenticación de Windows o por medio de autenticación SQL, que requiere usuario y contraseña).
También te permitirá cambiar el servidor en donde se encuentra el motor de la base de datos (puede ser de manera local con ayuda de MSSQL o en la nube).
NOTA: Si el servidor es local, debes indicar que confías en el certificado de seguridad para que te permita conectarte de manera segura, esto porque el certificado local no estaría firmado por una compañía "confiable" (ya que el certificado será autofirmado por tu equipo).

Para crear una base de datos en SSMS, se puede ir al explorador de objetos, dar clic derecho en 'Bases de datos', despues se da clic en 'Nueva Base de Datos...'.
Aquí se pueden modificar ciertas propiedades de la base de datos, como por ejemplo, el propietario (por defecto será el usuario con el que se accedió a SSMS) y otras configuraciones extra que son más complejas de establecer con comandos SQL.
También nos permite ver información sobre los FileGroups.
FileGroups:
Sistema de archivos
	Data File:
		Contiene toda la informacion como: tablas, indices, vistas, etc.
	Log Files:
		Contiene los logs de la base de datos (nos permite recuperar transacciones en la base de datos).
Una vez creada la base de datos, para empezar a utilizarla, en la parte superior aparece un selector con la base de datos actual, si das clic te permitira cambiar a la base de datos que prefieras.
Si quieres eliminar la base de datos creada, debes desplegar las bases de datos existentes en el directorio, dar clic derecho sobre la base de datos que deseas eliminar y después dar clic en la opción 'Eliminar'. Esto abrirá una ventana con algunas opciones, como cerrar las conexiones existentes y eliminar el historial de copias de seguridad. Después debes dar clic en 'Aceptar' para eliminar la base de datos.
Puedes también cambiar el nombre de la base de datos si le das clic derecho y seleccionas 'Cambiar Nombre'.

NOTA: Si al crear la base de datos no aparece en el directorio de SSMS en '+Bases de datos', puedes dar clic derecho sobre el directorio y luego clic en 'Actualizar' o dar clic en el icono de una flecha en forma de circulo en la parte superior del explorador de objetos.

Para crear una base de datos con lenguaje SQL, necesitas crear una nueva consulta (con la opción 'Nueva consulta'), escribir la consulta y luego puedes ejecutarla presionando el botón de 'Ejecutar' o con la tecla 'F5'.
	->	CREATE DATABASE <nombreDB>
Una vez creada, para hacer la conexion a esa base de datos y utilizarla:
	-> 	USE <nombreDB>
Si quieres eliminar una base de datos, puedes hacerlo con este comando:
	->	DROP DATABASE <nombreDB>

NOTA: Los símbolos '<' y '>' indican que es un nombre que puede variar, pero no se incluyen en la consulta.
TIP: Puedes ejecutar solo una parte del archivo de consulta .sql; solo tienes que seleccionar con el ratón la parte que quieres ejecutar y se ejecutará únicamente esa selección en lugar del archivo completo.

Al ejecutar un comando, en la parte inferior se abrirá un cuadro de diálogo en el cual aparecerán los logs de los comandos que ejecutemos. Aquí aparece tanto la hora en la que se completó la consulta como los errores o mensajes de éxito relacionados.


/////////////////// Configuración de instancias ///////////////////

Para ver las propiedades de nuestro servidor, podemos ir al panel 'Explorador de Objetos', aqui, el directorio raiz que aparece es la instancia del servidor, si damos clic izquierdo en esta instancia, podemos ir a las propiedades dando clic en 'Propiedades'.
Aqui tendremos varias secciones (en la parte izquierda):
	General: Nos muestra la informacion general de donde esta corriendo nuestra instancia de SQL Server (Producto, SO, Version, Idioma, etc.)
	Memoria: Nos permite manipular la cantidad de memoria mínima y máxima que se asignará a SQL Server
	Procesadores: Nos permite manipular la cantidad de procesadores que SQL Server puede usar
	Seguridad: Nos permite cambiar el modo de autenticación (Windows o SQL Server y Windows) y administrar los inicios de sesión
	Conexiones: Nos permite cambiar la cantidad máxima de conexiones que puede tener SQL Server y otras opciones de conexión
	Configuraciones de bases de datos: Nos permite cambiar la configuración predeterminada de las bases de datos que creemos (como el tamaño inicial, crecimiento, ubicación de los archivos, respaldo, etc.)
	Opciones avanzadas: Nos permite cambiar opciones avanzadas de SQL Server (como el nivel de compatibilidad, configuración de filestream, etc.)
	Permisos: Nos permite ver y administrar los permisos de la instancia de SQL Server
Debajo de las opciones nos aparece el servidor al que estamos conectados y el usuario con el que se realizo la conexion, tambien nos permite ver las 'Propiedades de conexion'.

/////////////////// Conceptos de colación y Unicode ///////////////////

Colaciones:
	Es un conjunto de reglas que determinan cómo se almacenan y comparan los datos de texto en la base de datos.
	Define:
		- Sensibilidad a mayusculas y minusculas (CS: Case Sensitive, CI: Case Insensitive)
		- Sensibilidad a acentos (AS: Accent Sensitive, AI: Accent Insensitive)
		- Sensibilidad a Kana (KS: Kana Sensitive, KI: Kana Insensitive) -> Solo para japones
		- Sensibilidad a ancho (WS: Width Sensitive, WI: Width Insensitive) -> Diferencia entre caracteres de ancho completo y medio ancho
Unicode:
	Es un estandar de codificacion de caracteres que permite representar texto de diferentes idiomas y simbolos especiales.
	Usa 2 bytes (16 bits) para representar cada carácter, lo que permite representar hasta 65,536 caracteres diferentes.
	Es compatible con la mayoria de los idiomas y simbolos especiales, lo que lo hace ideal para aplicaciones globales.

Estos datos se pueden observar si damos clic derecho en 'Explorador de objetos > Bases de datos > Mi Base De Datos', escogemos la opción de propiedades y vamos a 'General'. Hay un apartado de 'Mantenimiento', en donde dice 'Intercalación', podemos ver el tipo de colación que utiliza esa base de datos.
Si entramos a las propiedades de la instancia del servidor, en 'General', también podremos ver el tipo de colación que utiliza la instancia del servidor ('Intercalación del Servidor'). 
Todas las bases de datos que se crean dentro de un servidor, usarán la colación especificada para ese servidor por defecto, pero se puede cambiar al crear la base de datos. Para crear una base de datos con una colación diferente, se da clic derecho en 'Explorador de objetos > Bases de datos', se selecciona 'Nueva base de datos', se va a la sección 'Opciones' y se puede seleccionar la 'Intercalación' para esa base de datos.

/////////////////// Conceptos de seguimiento al servidor ///////////////////

Cuando se instala SQL Server, se instala otra aplicación junto con esta, llamada 'SQL Server Profiler'. Esta aplicación nos ayudará a darle seguimiento a nuestro servidor SQL.
Para hacer la conexion de SQL Server Profiler a nuestro servidor con nuestra base de datos, debemos dar clic en el primer icono ubicado en la parte superior izquierda (al poner el cursor sobre este icono, debe aparecer "New Trace"). Esto nos abrira una ventana de conexion (similar a cuando abrimos SSMS) en donde colocaremos los datos de nuestro servidor (a cual servidor queremos conectarnos y las credenciales que necesitamos para la conexion).
Cuando damos clic en conectar, nos aparece una segunda ventana, en donde se pueden configurar las propiedades del seguimiento del servidor, como el nombre del seguimiento (se recomienda que sea específico sobre la razón del seguimiento), la plantilla (template) del seguimiento que se realizará, si queremos guardar la información del rastreo como archivo (se puede seleccionar el tamaño máximo del archivo y la ubicación donde se guardará) o como tabla (te permite escoger en cuál base de datos se guardará dentro del servidor y el máximo de filas de la tabla), cuándo quieres que se detenga el rastreo y los eventos que se incluirán en el seguimiento junto con la información que queremos de cada evento.
Esta información de seguimiento se puede guardar en un archivo (conviene cuando vamos a guardar demasiada información que probablemente consultaremos de otra manera) o en una tabla (conviene cuando vamos a realizar un seguimiento más específico de los eventos que queremos rastrear).
Para empezar el seguimiento, después de la configuración, damos clic en 'Run' en la parte inferior derecha. Esto nos mostrará una ventana dentro de SQL Server Profiler donde aparecerán los datos del rastreo. Se puede hacer alguna consulta en SSMS y aparecerá en SQL Server Profiler como seguimiento.

NOTA: Si el seguimiento se guarda en una tabla en la base de datos, puedes hacer la consulta dentro de SSMS
	->	SELECT * FROM dbo.[Nombre de la tabla que escogiste al crear el seguimiento]
y te mostrará el seguimiento.
Si el seguimiento se guarda en un archivo, este contendra la extension '.trc' y sera de tipo 'SQL Server Profiler - trace data file'.
Si cerramos la ventana de rastreo, podemos volver a abrirla en SQL Server Profiler, dando clic en 'File' (en la parte superior izquierda) y abriendo el seguimiento desde la tabla o el archivo que creamos.

Cuando ocurre algun evento de los que se selecciono al crear el rastreo de la base de datos, aparecera la informacion en SQL Server Profiler, se guardara tambien en la tabla como nueva entrada y en el archivo.
Dentro de SQL Server Profiler, en la ventana donde se muestran los datos de seguimiento, al darle clic a alguno de los datos que se muestran, se mostrará más detalle del 'TextData' en la parte inferior.

/////////////////// Auditar una base de datos ///////////////////

Es un proceso que permite medir, asegurar, monitorear y registrar los accesos a la información almacenada, incluyendo quién accede a los datos, cuándo, desde qué dispositivo o ubicación en la red, qué sentencia SQL se ejecutó y cuál fue el efecto del acceso.
Se enfoca en rastrear acciones específicas, como modificaciones de datos, cambios en el esquema o acceso a información sensible.

Se puede utilizar SSMS o Transact SQL para realizar la auditoria.
La auditoría para una instancia de SQL Server, en este caso, involucra el seguimiento del log de eventos que ocurren en nuestro sistema. También puede ser la colección de objetos en una instancia del servidor o a nivel de acciones de una base de datos, grupos o acciones de monitoreo.

Para crear una auditoria con SSMS, vamos a ir al explorador de objetos en la parte izquierda y dirijirnos hacia 'Instancia del servidor > Seguridad > Auditorias', donde daremos 'clic derecho > Nueva Auditoria'. 
Se abrirá una ventana, donde especificaremos los datos de la auditoría que realizaremos, como son: 
Nombre de la auditoría (el nombre por defecto es Auditoria+fecha en la que se creó)
Retraso de cola (se refiere a qué tan sincronizado está en milisegundos)
Qué acción realizar si hay un error de registro en la auditoría
El formato en el que se guardará la auditoría, la ruta, la cantidad máxima de archivos que se pueden almacenar de esa auditoría y el tamaño de esos archivos.

Cuando se crea la auditoria, debemos ir a 'Instancia del servidor > Seguridad > Especificaciones de auditoria del servidor', donde usaremos la auditoria que creamos anteriormente, aqui podremos:
Cambiar el nombre de las especificaciones de la auditoría (el nombre por defecto es ServerAuditSpecification+fecha en la que se creó)
Se debe seleccionar la auditoría con la que se trabajará
También se deben seleccionar las acciones que se auditarán

Después se debe dar clic derecho sobre la especificación de auditoría que creamos y debemos dar clic en 'Habilitar especificación de auditoría de servidor', lo que nos mostrará un cuadro de diálogo mencionando si se habilitó.

Para crear auditorías con Transact-SQL, se debe crear primero la auditoría con el siguiente comando:
	->	CREATE SERVER AUDIT <NombreDeLaAuditoria>
			TO FILE (FILEPATH = '<RutaDondeSeGuardaraLaAuditoria>'); 
Después se deben crear las especificaciones de la auditoría con el siguiente comando:
	->	CREATE SERVER AUDIT SPECIFICATION <NombreDeLaEspecificacionDeLaAuditoria>
		FOR SERVER AUDIT <NombreDeLaAuditoria>
		ADD (SUCCESSFUL_LOGIN_GROUP),
		ADD (FAILED_LOGIN_GROUP);
Finalmente, se debe habilitar la especificación de la auditoría con el siguiente comando:
	->	ALTER SERVER AUDIT <NombreDeLaAuditoria>
		WITH (STATE = ON);

Para ver los datos registrados en las auditorias, puedes ir abrir el archivo de auditoría con SQL Server Management Studio (SSMS):
Ve a 'Explorador de objetos > Seguridad > Auditorias'
Haz clic derecho en la 'auditoría > Ver registros de auditoria' 

/////////////////// Ver registros (logs) del servidor ///////////////////

Aquí podemos ver los registros del servidor de los movimientos que se realizan en el servidor, que nos ayudaran a monitorear y solucionar problemas en SQL Server.

Si vamos a 'Explorador de objetos > Administración > Registros de SQL Server' encontraremos varios archivos donde se encuentran los registros del servidor.
Para ver estos registros, debemos dar clic derecho en alguno de estos archivos y dar clic en 'Ver registro de SQL Server'. Esto nos abre una ventana donde se muestran los registros de ese archivo, pero podemos escoger cuál archivo queremos ver (en la parte izquierda de la ventana que se abrió).
